" Watch: youtube.com/watch?v=XA2WjJbmmoM
set nocompatible
set ttyfast
set termguicolors
" Read: https://vimhelp.org/term.txt.html#terminal-options
" Read(slow &t_EI): https://stackoverflow.com/a/58042714
" Note: This should be set after `set termguicolors` or `set t_Co=256`.
if &term =~ 'xterm' || &term == 'win32'
" Use DECSCUSR escape sequences
    let &t_SI = "\e[5 q"      " blink bar
    let &t_SR = "\e[3 q"      " blink underline
    let &t_EI = "\e[1 q"      " blink block
    let &t_ti ..= "\e[1 q"    " blink block
    let &t_te ..= "\e[0 q"    " default (depends on terminal, normally blink block)
endif
" To explicitly use dark variant of gruvbox, uncomment the next 2 lines
" set background=dark
" colorscheme gruvbox

set hidden
set noswapfile
set backspace=indent,eol,start
set shiftwidth=4 tabstop=4 softtabstop=4 expandtab autoindent smartindent

" enable syntax and plugins (for netrw)
syntax enable
filetype plugin indent on

" search down into the subfolders
" provides tab-compeltion for file operations
set path+=**

" display all matching files when we tab-complete
set wildmenu

set number
set relativenumber
set cursorline

" netrw tweaks
let g:netrw_banner=0
let g:netrw_browse_split=4
let g:netrw_altv=1
let g:netrw_liststyle=3
let g:netrw_list_hide=netrw_gitignore#Hide()
let g:netrw_list_hide.=',\(^\|\s\s\)\zs\.\S\*'

" Vim hard mode; disable arrow keys and backspace key; makes your life harder
" set backspace=0

nnoremap <buffer> <Left> <Esc>
nnoremap <buffer> <Right> <Esc>
nnoremap <buffer> <Up> <Esc>
nnoremap <buffer> <Down> <Esc>
nnoremap <buffer> <PageUp> <Esc>
nnoremap <buffer> <PageDown> <Esc>

inoremap <buffer> <Left> <Esc>
inoremap <buffer> <Right> <Esc>
inoremap <buffer> <Up> <Esc>
inoremap <buffer> <Down> <Esc>
inoremap <buffer> <PageUp> <Esc>
inoremap <buffer> <PageDown> <Esc>

vnoremap <buffer> <Left> <Esc>
vnoremap <buffer> <Right> <Esc>
vnoremap <buffer> <Up> <Esc>
vnoremap <buffer> <Down> <Esc>
vnoremap <buffer> <PageUp> <Esc>
vnoremap <buffer> <PageDown> <Esc>

" inoremap <leader><leader> <Esc>
" vnoremap <leader><leader> <Esc>

" nnoremap <leader>py :-1read $HOME/.vim/snippets/.skeleton.py<CR>
" nnoremap <leader>c :-1read $HOME/.vim/snippets/.skeleton.c<CR>

" Read: https://www.amd.com/content/dam/amd/en/documents/txt/aocc-4.0.0-readme.txt
" You can find more about these global variables in clan-format.py
let g:clang_format_path="/opt/AMD/aocc-compiler-4.0.0/bin/clang-format"
let g:clang_format_fallback_style="LLVM"

" Read: https://black.readthedocs.io/en/stable/integrations/editors.html#vim-8-native-plugin-management
" Read: https://clang.llvm.org/docs/ClangFormat.html#vim-integration
augroup format
    autocmd!
    autocmd BufWritePre *.py execute ":Black"
    autocmd BufWritePre *.c,*.cc,*.cpp,*.h,*.java,*.js,*.json execute ":py3file /opt/AMD/aocc-compiler-4.0.0/share/clang/clang-format.py"
augroup END
